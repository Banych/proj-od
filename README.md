# Project OD

Веб-приложение для управления заявками, построенное на Next.js. Включает в себя аутентификацию пользователей, управление заявками и систему сообщений.

## Основные возможности

- **Аутентификация пользователей**: Безопасная авторизация и регистрация с использованием NextAuth.js
- **Управление заявками**: Создание, просмотр, редактирование и удаление заявок
- **Система сообщений**: Отправка и получение сообщений связанных с заявками
- **Управление профилем**: Обновление информации профиля пользователя
- **Контроль доступа на основе ролей**: Различный функционал в зависимости от роли пользователя (Администратор, Диспетчер, Менеджер)
- **Панель администратора**: Управление пользователями и заявками с интуитивным интерфейсом
- **Управление базой данных**: Использует Prisma в качестве ORM с PostgreSQL как основной базой данных

## Используемые технологии

- **Frontend**: Next.js 15, React 19, TypeScript
- **Стилизация**: Tailwind CSS, Radix UI компоненты
- **Аутентификация**: NextAuth.js
- **База данных**: PostgreSQL с Prisma ORM
- **Валидация**: Zod
- **Формы**: React Hook Form
- **Иконки**: Lucide React
- **Дата/время**: date-fns

## Быстрый старт

### Предварительные требования

- Node.js 18+
- PostgreSQL база данных
- Yarn или npm

### Установка

1. Клонируйте репозиторий:

```bash
git clone <repository-url>
cd proj-od
```

2. Установите зависимости:

```bash
yarn install
# или
npm install
```

3. Настройте переменные окружения:

```bash
cp .env.example .env
```

4. Обновите `.env` файл с вашими настройками:

```env
NEXTAUTH_SECRET=<ваш-секретный-ключ>
NEXTAUTH_URL=http://localhost:3000
DATABASE_URL="postgresql://username:password@localhost:5432/proj_od"
DIRECT_URL="postgresql://username:password@localhost:5432/proj_od"
```

5. Выполните миграции базы данных:

```bash
npx prisma migrate dev
```

6. Запустите проект в режиме разработки:

```bash
yarn dev
```

Приложение будет доступно по адресу `http://localhost:3000`

## Структура проекта

```
proj-od/
├── app/                    # Next.js App Router
│   ├── api/               # API маршруты
│   ├── auth/              # Страницы аутентификации
│   ├── admin/             # Админ панель
│   ├── profile/           # Профиль пользователя
│   └── requests/          # Управление заявками
├── components/            # React компоненты
│   ├── ui/               # UI компоненты
│   └── providers/        # Провайдеры контекста
├── lib/                  # Утилиты и конфигурация
├── prisma/               # Схема и миграции БД
├── types/                # TypeScript типы
└── docs/                 # Документация
```

## Доступные скрипты

- `yarn dev` - Запуск в режиме разработки
- `yarn build` - Сборка для продакшена
- `yarn start` - Запуск продакшен версии
- `yarn lint` - Проверка кода линтером
- `yarn format` - Форматирование кода
- `yarn type-check` - Проверка типов TypeScript

## Роли пользователей

- **ADMIN**: Полный доступ ко всем функциям системы
- **MANAGER**: Управление заявками, просмотр пользователей
- **DISPATCHER**: Обработка заявок, отправка сообщений

## Документация

Подробная документация находится в папке `/docs`:

- [Руководство по установке](./docs/installation.md)
- [API Справочник](./docs/api-reference.md)
- [Управление базой данных](./docs/database.md)
- [Деплой](./docs/deployment.md)
- [Разработка](./docs/development.md)

## Поддержка

При возникновении вопросов или проблем, пожалуйста, создайте issue в репозитории.

## Лицензия

Этот проект предназначен для внутреннего использования.

---

_Документация создана с помощью Claude Sonnet 3.5_
